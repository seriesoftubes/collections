/*! pycollections 19-10-2023 */
!function(root){"use strict";Number.isNaN||(Number.isNaN=function(t){return t!=t}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var DictKeyNotFound=function(t){arguments.length?(this.keyWasSupplied=!0,this.key=t):this.keyWasSupplied=!1},DictKeyNotHashable=function(t){this.key=t},TYPE_BOOLEAN=typeof!0,TYPE_NAN=String(NaN),TYPE_NULL=String(null),TYPE_NUMBER="number",TYPE_STRING="string",TYPE_UNDEFINED="undefined",TYPES={},GET_TYPE=(TYPES[TYPE_BOOLEAN]=!0,TYPES[TYPE_NAN]=!0,TYPES[TYPE_NULL]=!0,TYPES[TYPE_NUMBER]=!0,TYPES[TYPE_STRING]=!0,TYPES[TYPE_UNDEFINED]=!0,function(t){return null===t?TYPE_NULL:Number.isNaN(t)?TYPE_NAN:typeof t}),Dict=function(t){this.clear(),void 0!==t&&this.update(t)},DefaultDict=(Dict.fromKeys=function(t,e){for(var r=new Dict,i=0,n=t.length;i<n;++i)r.set(t[i],e);return r},Dict.checkKeyIsHashable_=function(t){if(!TYPES[GET_TYPE(t)])throw new DictKeyNotHashable(t)},Dict.prototype.clear=function(){var t,e={};for(t in TYPES)e[t]={};this.dict_=e},Dict.prototype.copy=function(){return new Dict(this)},Dict.prototype.set=function(t,e){if(Dict.checkKeyIsHashable_(t),arguments.length<2)throw Error("Must supply a key and a value.");return this.dict_[GET_TYPE(t)][t]=e},Dict.prototype.update=function(t){var e=this.set.bind(this);if(t instanceof Dict)t.iteritems(e);else if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r){var n=t[r];e(n[0],n[1])}else{if("object"!=typeof t)throw Error("Cannot update dict from type: "+typeof t);for(var o=Object.keys(t),r=0,i=o.length;r<i;++r){var s=o[r];e(s,t[s])}}},Dict.prototype.hasKey=function(t){return Dict.checkKeyIsHashable_(t),this.dict_[GET_TYPE(t)].hasOwnProperty(t)},Dict.prototype.get=function(t,e){var r=arguments.length;if(!r)throw Error("Must supply a key");var i=this.hasKey(t);if(1!==r||i)return i?this.dict_[GET_TYPE(t)][t]:e;throw new DictKeyNotFound(t)},Dict.prototype.del=function(t){if(!this.hasKey(t))throw new DictKeyNotFound(t);delete this.dict_[GET_TYPE(t)][t]},Dict.prototype.pop=function(t,e){var r=this.hasKey(t);if(1!==arguments.length||r)return e=this.get(t,e),r&&this.del(t),e;throw new DictKeyNotFound(t)},Dict.prototype.iterkeys=function(i){this.iteritems(function(t,e,r){i(t,r)})},Dict.prototype.keys=function(){var e=[];return this.iteritems(function(t){e.push(t)}),e},Dict.prototype.getFirstKey=function(){var e,r=!1;if(this.iteritems(function(t){r||(e=t,r=!0)}),r)return e;throw new DictKeyNotFound},Dict.prototype.getFirstMatchingKey=function(i){var n,o=!1;if(this.iteritems(function(t,e,r){!o&&i(t,r)&&(n=t,o=!0)}),o)return n;throw new DictKeyNotFound},Dict.prototype.popitem=function(){var t=this.getFirstKey();return[t,this.pop(t)]},Dict.prototype.length=function(){var t=0;return this.iteritems(function(){++t}),t},Dict.prototype.isEmpty=function(){return!this.length()},Dict.prototype.iteritems=function(t){var e,r=this.dict_;for(e in r[TYPE_BOOLEAN])t("true"===e,r[TYPE_BOOLEAN][e],this);for(e in r[TYPE_NUMBER])t(Number(e),r[TYPE_NUMBER][e],this);for(e in r[TYPE_STRING])t(e,r[TYPE_STRING][e],this);for(e in r[TYPE_NAN])t(NaN,r[TYPE_NAN][e],this);for(e in r[TYPE_NULL])t(null,r[TYPE_NULL][e],this);for(e in r[TYPE_UNDEFINED])t(void 0,r[TYPE_UNDEFINED][e],this)},Dict.prototype.items=function(){var r=[];return this.iteritems(function(t,e){r.push([t,e])}),r},Dict.prototype.itervalues=function(i){this.iteritems(function(t,e,r){i(e,r)})},Dict.prototype.values=function(){var r=[];return this.iteritems(function(t,e){r.push(e)}),r},Dict.prototype.setOneNewValue=function(t,e){return this.set(t,e(this.get(t),t,this))},Dict.prototype.setSomeNewValues=function(t,e){for(var r=0,i=t.length;r<i;++r)this.setOneNewValue(t[r],e)},Dict.prototype.setAllNewValues=function(i){this.iteritems(function(t,e,r){r.setOneNewValue(t,i)})},function(t,e){if("function"!=typeof t)throw Error("Must supply a default function.");this.default_=t,Dict.call(this,e)}),GET_ZERO=(DefaultDict.constructor=Dict,DefaultDict.prototype=Object.create(Dict.prototype),DefaultDict.prototype.get=function(t){return 1<arguments.length?Dict.prototype.get.apply(this,arguments):this.hasKey(t)?Dict.prototype.get.call(this,t):this.set(t,this.default_())},DefaultDict.fromKeys=function(t,e,r){for(var i=new DefaultDict(t),n=0,o=e.length;n<o;++n)i.set(e[n],r);return i},DefaultDict.prototype.copy=function(){return new DefaultDict(this.default_,this)},function(){return 0}),Counter=function(t){DefaultDict.call(this,GET_ZERO,t)},OrderedDict=(Counter.constructor=DefaultDict,Counter.prototype=Object.create(DefaultDict.prototype),Counter.getIncrementor=function(e){return function(t){return t+e}},Counter.fromKeys=function(){throw Error("Not implemented on Counter.")},Counter.prototype.copy=function(){return new Counter(this)},Counter.prototype.update=function(t){var e=t instanceof Dict,r=Array.isArray(t),i=!r&&!e&&"object"==typeof t;if(this.isEmpty()&&(e||i))return DefaultDict.prototype.update.call(this,t);if(e){var n=this;t.iteritems(function(t,e){n.setOneNewValue(t,Counter.getIncrementor(e))})}else if(r)this.setSomeNewValues(t,Counter.getIncrementor(1));else if(i)for(var o=Object.keys(t),s=0,c=o.length;s<c;++s){var u=o[s];this.setOneNewValue(u,Counter.getIncrementor(t[u]))}else DefaultDict.prototype.update.call(this,t)},Counter.prototype.iterelements=function(n){this.iteritems(function(t,e,r){for(var i=0;i<e;++i)n(t,i,e,r)})},Counter.prototype.elements=function(){var e=[];return this.iterelements(function(t){e.push(t)}),e},Counter.prototype.subtract=function(t){if(t instanceof Dict){var r=this;t.iteritems(function(t,e){r.setOneNewValue(t,Counter.getIncrementor(-e))})}else if(Array.isArray(t))this.setSomeNewValues(t,Counter.getIncrementor(-1));else{if("object"!=typeof t)throw Error("Must subtract Dict, Array, or Object.");for(var e=Object.keys(t),i=0,n=e.length;i<n;++i){var o=e[i];this.setOneNewValue(o,Counter.getIncrementor(-t[o]))}}},Counter.prototype.mostCommon=function(t){var e=this.items().sort(function(t,e){return e[1]-t[1]});return arguments.length?e.slice(0,t):e},Counter.prototype.leastCommon=function(t){var e=this.items().sort(function(t,e){return t[1]-e[1]});return arguments.length?e.slice(0,t):e},function(t){Dict.call(this,t)}),DECREMENT_VALUE=(OrderedDict.constructor=Dict,OrderedDict.prototype=Object.create(Dict.prototype),OrderedDict.fromKeys=function(t,e){for(var r=new OrderedDict,i=0,n=t.length;i<n;++i)r.set(t[i],e);return r},OrderedDict.prototype.clear=function(){this._orderedKeys=[],this._keyIndices=new Dict,Dict.prototype.clear.call(this)},OrderedDict.prototype.copy=function(){return new OrderedDict(this)},OrderedDict.prototype.set=function(t,e){var r=this.hasKey(t),i=Dict.prototype.set.apply(this,arguments);return r||this._keyIndices.set(t,this._orderedKeys.push(t)-1),i},function(t){return t-1}),VALID_NAME=(OrderedDict.prototype.del=function(t){for(var e=Dict.prototype.del.call(this,t),t=this._keyIndices.pop(t),r=t+1,i=this.length();r<i;++r)this._keyIndices.setOneNewValue(this._orderedKeys[r],DECREMENT_VALUE);return this._orderedKeys.splice(t,1),e},OrderedDict.prototype.iteritems=function(t){for(var e=0,r=this.length();e<r;++e){var i=this._orderedKeys[e];t(i,this.get(i),this)}},OrderedDict.prototype.length=function(){return this._orderedKeys.length},OrderedDict.prototype.getFirstKey=function(){if(this.length())return this._orderedKeys[0];throw new DictKeyNotFound},/^[a-zA-Z\_]+[a-zA-Z0-9\_]*$/),RESERVED_WORDS={break:!0,case:!0,class:!0,catch:!0,const:!0,continue:!0,debugger:!0,default:!0,delete:!0,do:!0,else:!0,export:!0,extends:!0,finally:!0,for:!0,function:!0,if:!0,import:!0,in:!0,instanceof:!0,let:!0,new:!0,return:!0,super:!0,switch:!0,this:!0,throw:!0,try:!0,typeof:!0,var:!0,void:!0,while:!0,with:!0,yield:!0,enum:!0,await:!0},NamedTupleToString=(Object.freeze(RESERVED_WORDS),function(){for(var t=this.fields,e=[name,"("],r=0,i=this.length;r<i;++r)e.push(t[r]+"="+String(this[r])),r<i-1&&e.push(", ");return e.push(")"),e.join("")}),NamedTupleAsDict=function(){for(var t=new OrderedDict,e=0;e<this.length;++e)t.set(this.fields[e],this[e]);return t},NamedTuple=function(name,props){if("string"!=typeof name)throw Error("must include a string name");if(!Array.isArray(props))throw TypeError("props must be an array");if(!VALID_NAME.test(name))throw Error("invalid name");if(RESERVED_WORDS[name])throw Error("cannot use reserved word as name");var nargs=props.length,container={},code=["container.myClass = function "+name+"() {",'if (arguments.length !== nargs) throw Error(nargs + " args required");',"for (var i = 0; i < nargs; ++i) this[props[i]] = this[i] = arguments[i];",'Object.defineProperty(this, "length", {"enumerable": false, "value": nargs});','Object.defineProperty(this, "fields", {"enumerable": false, "value": props});','Object.defineProperty(this, "asDict", {"enumerable": false, "value": NamedTupleAsDict});','Object.defineProperty(this, "asArray", {"enumerable": false, "value": Array.prototype.slice});','Object.defineProperty(this, "toString", {"enumerable": false, "value": NamedTupleToString});',"Object.freeze(this);","Object.seal(this);","};"].join("\n"),myClass=(eval(code),container.myClass);return myClass.constructor=Array,myClass.prototype=Object.create(Array.prototype),myClass},pycollections={DictKeyNotFound:DictKeyNotFound,DictKeyNotHashable:DictKeyNotHashable,Dict:Dict,DefaultDict:DefaultDict,Counter:Counter,OrderedDict:OrderedDict,NamedTuple:NamedTuple,RESERVED_WORDS:RESERVED_WORDS};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=pycollections),exports.pycollections=pycollections):"function"==typeof define&&define.amd?define("pycollections",[],function(){return pycollections}):root.pycollections=pycollections}(this);